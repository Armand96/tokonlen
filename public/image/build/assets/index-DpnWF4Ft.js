import{r as i,j as e,J as h}from"./remixicon-C_NSdncx.js";import{F as N}from"./FormInput-BoSlL2Nr.js";import{P as k}from"./PageBreadcrumb-DMS3BnLo.js";import{F as y}from"./index-O_58Jj6h.js";import{g as v,p as S}from"./linkType-B7y8JGD3.js";import{L as T}from"./loading-CQIiW4Pw.js";import{M as C,T as L}from"./tablePaginate-BAhHNbsP.js";import{M as _}from"./ModalPreview-DkZ7Dfpv.js";import"./HelpersFunction-CKAZVPIR.js";import"./dialog-YCz78_fl.js";import"./transition-B_aZ0yjS.js";const R=()=>{const[d,l]=i.useState(!1),[p,c]=i.useState(!1),[s,n]=i.useState({name:"",image_file:"",is_active:1}),[o,x]=i.useState(!1),[a,g]=i.useState(null),[f,u]=i.useState(!1),m=async(t=1)=>{c(!0);const r=await v(`?page=${t}`);g(r),c(!1)};i.useEffect(()=>{m()},[]);const b=async()=>{o||(delete s.image,delete s.image_thumb),c(!0);const t={...s,_method:s.id?"PUT":"POST"};await S(t,s==null?void 0:s.id).then(()=>{l(!1),h.fire("Success",s.id?"Update Link Type Berhasil":"Input Link Type Berhasil","success")}).catch(r=>{l(!1),console.log(r),h.fire("Error",r.name[0],"error")}),await m()},j=[{name:"Nama Link",row:t=>e.jsx("div",{children:t.name})},{name:"Image",row:t=>e.jsx("button",{className:"btn bg-success text-white",onClick:()=>{u(!0),n(t)},children:"Preview image"})},{name:"Status",row:t=>e.jsx("div",{children:t.is_active?"Active":"Non Active"})},{name:"Action",row:t=>e.jsx("button",{className:"btn bg-primary text-white",onClick:()=>{l(!0),n(t),x(!1)},children:"Edit"})}],w=t=>{console.log(t),n({...s,image_file:t[0]})};return e.jsxs(e.Fragment,{children:[p&&e.jsx(T,{}),e.jsx(_,{toggleModal:()=>u(!1),isOpen:f,img:s==null?void 0:s.image}),d&&e.jsx(C,{showModal:d,toggleModal:()=>l(!1),placement:"justify-center items-start",children:e.jsxs("div",{className:"m-3 sm:mx-auto flex flex-col bg-white shadow-sm rounded",children:[e.jsxs("div",{className:"flex justify-between items-center py-2.5 px-4 border-b",children:[e.jsx("h3",{className:"text-lg",children:o?"Tambah Data":"Edit Data"}),e.jsx("button",{className:"h-8 w-8",onClick:()=>l(!1),children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("div",{className:"p-4 max-h-screen overflow-y-auto w-[70vw]",children:[e.jsx(N,{name:"name",label:"Nama Link",value:s.name,onChange:t=>n({...s,name:t.target.value}),className:"form-input mb-3"}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h4",{className:"card-title mb-1",children:"Image"})}),e.jsx(y,{onFileDelete:()=>null,detailData:null,handleDeletePrevImage:()=>null,prevData:null,singleFile:!0,multipleUploads:!1,onFileUpload:w,icon:"ri-upload-cloud-line text-4xl text-gray-300 dark:text-gray-200",text:" klik untuk upload."}),!o&&e.jsxs("div",{className:"mt-5",children:[e.jsx("h6",{className:"text-sm mb-2",children:"Status"}),e.jsx("input",{type:"checkbox",checked:s.is_active===1,onChange:t=>n({...s,is_active:t.target.checked?1:0})}),e.jsx("label",{className:"ml-2",children:"Aktif"})]})]}),e.jsxs("div",{className:"flex justify-end p-4 border-t gap-x-4",children:[e.jsx("button",{className:"btn bg-light text-gray-800",onClick:()=>l(!1),children:"Close"}),e.jsx("button",{className:"btn bg-primary text-white",onClick:b,children:"Submit"})]})]})}),e.jsx(k,{title:"LinkTypes",subName:"Backoffice"}),e.jsxs("div",{className:"bg-white p-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Link Types"}),e.jsx("button",{className:"btn bg-primary mb-4 text-white",onClick:()=>{l(!0),x(!0),n({name:"",image_file:"",is_active:1})},children:"Tambah Data"})]}),e.jsxs("p",{className:"mb-2",children:["Total Data : ",a==null?void 0:a.total]}),e.jsx(L,{totalPage:(a==null?void 0:a.last_page)||0,data:a==null?void 0:a.data,columns:j,onPageChange:t=>m((t==null?void 0:t.current_page)+1)})]})]})};export{R as default};
