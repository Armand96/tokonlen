import{r,j as s,h as P,R as T,L as N,u as A,f as F,g as R,S as w}from"./remixicon-C_NSdncx.js";import{S as U}from"./index-3xGO5Xc0.js";import"./isObjectLike-CpE0Fdv8.js";function H(e,l){const n=r.useRef(l);n.current=l,r.useEffect(()=>{const a=t=>{!e.current.contains(t.target)&&n.current&&n.current(t)};return document.addEventListener("mousedown",a,!0),()=>{document.removeEventListener("mousedown",a,!0)}},[n,e])}const V=[{key:"backoffice",label:"Backoffice",isTitle:!0},{key:"dashboard",label:"Dashboard",isTitle:!1,icon:"ri-home-4-line",url:"/backoffice/dashboard"},{key:"Products",label:"Products",isTitle:!1,icon:"ri-shopping-cart-line",url:"/backoffice/products"},{key:"Categories",label:"Categories",isTitle:!1,icon:"ri-dashboard-line",url:"/backoffice/categories"},{key:"Variants",label:"Variants",isTitle:!1,icon:"ri-magic-line",url:"/backoffice/variants"},{key:"Discounts",label:"discounts",isTitle:!1,icon:"ri-percent-line",url:"/backoffice/discounts"},{key:"Link Type",label:"Link Type",isTitle:!1,icon:"ri-links-line",url:"/backoffice/link-types"},{key:"Size",label:"Size",isTitle:!1,icon:"ri-ruler-line",url:"/backoffice/sizes"},{key:"Banner",label:"banner",isTitle:!1,icon:"ri-honour-line",url:"/backoffice/banners"},{key:"Web Settings",label:"web settings",isTitle:!1,icon:"ri-settings-3-line",url:"/backoffice/web-settings"}],z=()=>V,C=(e,l)=>{let n=[];const a=v(e,l.parentKey);return a&&(n.push(a.key),a.parentKey&&(n=[...n,...C(e,a)])),n},v=(e,l)=>{if(e&&l)for(let n=0;n<e.length;n++){if(e[n].key===l)return e[n];const a=v(e[n].children,l);if(a)return a}return null},E=r.createContext(!1),K=({children:e,as:l="button",classNames:n})=>{const{isOpen:a,handleDropdown:t,handleKeyPress:c}=r.useContext(E),u=l,o=r.useRef();return H(o,()=>{t(!1)}),s.jsx(u,{ref:o,className:`${n||""} ${a?"open":""}`,onClick:t,onKeyDown:c,children:e})},W=({children:e,as:l="div",classNames:n,placement:a})=>{const{isOpen:t,handleDropdown:c}=r.useContext(E),u=l,o=a==="start"?"start-0":a==="end"?"end-0":null;return s.jsx(u,{className:`${n?n+" ":""} ${o?o+" ":""} ${t?"open ":"hidden "}`,onClick:c,children:e})},Y=({children:e})=>{const[l,n]=r.useState(!1),a=c=>{n(c===!1?c:!l)},t=c=>{c.key==="Escape"&&a(!1)};return s.jsx(E.Provider,{value:{isOpen:l,handleDropdown:a,handleKeyPress:t},children:e})};Object.assign(Y,{Toggle:K,Menu:W});const S=r.createContext(!1),Z=({children:e,as:l="button",className:n,openClass:a})=>{const{open:t,handleCollapse:c}=r.useContext(S),u=l;return s.jsx(u,{className:`${n}${t?" open fc-col-open ":" fc-col-close "}${t&&a?a:""}`,onClick:c,children:e})},q=({children:e,as:l="div",className:n})=>{var o;const{open:a}=r.useContext(S),t=r.useRef(null),c=a?((o=t.current)==null?void 0:o.scrollHeight)??"auto":0,u=l;return s.jsx(u,{ref:t,className:`transition-all overflow-hidden ${n??""}`,style:{height:c},children:e})},I=({children:e,open:l,toggleCollapse:n})=>{const[a,t]=r.useState(!1),c=()=>{t(!a)};return s.jsx(S.Provider,{value:{open:l??a,handleCollapse:n??c},children:e})};Object.assign(I,{Toggle:Z,Menu:q});const Q=({open:e,children:l,classNames:n,as:a="div"})=>{var o;const t=r.useRef(null),c=e?((o=t.current)==null?void 0:o.scrollHeight)??0:0,u=a;return s.jsx(u,{ref:t,className:`transition-all overflow-hidden ${n||""}`,style:{height:c},children:l})};var y={};const O=({item:e,linkClassName:l,subMenuClassNames:n,activeMenuItems:a,toggleMenu:t})=>{const[c,u]=r.useState(a.includes(e.key));r.useEffect(()=>{u(a.includes(e.key))},[a,e]);const o=()=>{const i=!c;return u(i),t&&t(e,i),!1};return s.jsxs("li",{className:`menu-item ${c?"menuitem-active":""}`,children:[s.jsxs(N,{to:"#",className:`${l} ${a.includes(e.key)?"open":""}`,"aria-expanded":c,"data-menu-key":e.key,onClick:o,children:[e.icon&&s.jsx("span",{className:"menu-icon",children:s.jsx("i",{className:e.icon})}),s.jsxs("span",{className:"menu-text",children:[" ",e.label]}),e.badge?s.jsx("span",{className:`badge ${e.badge.variant}`,children:e.badge.text}):s.jsx("span",{className:"menu-arrow"})]}),s.jsx(Q,{open:c,as:"ul",classNames:n+" sub-menu",children:(e.children||[]).map((i,g)=>s.jsx(T.Fragment,{children:i.children?s.jsx(O,{item:i,linkClassName:a.includes(i.key)?"active":"",activeMenuItems:a,subMenuClassNames:"sub-menu",toggleMenu:t}):s.jsx($,{item:i,className:a.includes(i.key)?"menuitem-active":"",linkClassName:a.includes(i.key)?"active":""})},g))})]})},$=({item:e,className:l,linkClassName:n})=>s.jsx("li",{className:`menu-item ${l}`,children:s.jsx(G,{item:e,className:n})}),G=({item:e,className:l})=>s.jsxs(N,{to:e.url,target:e.target,className:`menu-link side-nav-link-ref ${l}`,"data-menu-key":e.key,children:[e.icon&&s.jsx("span",{className:"menu-icon",children:s.jsx("i",{className:e.icon})}),s.jsxs("span",{className:"menu-text",children:[" ",e.label]}),e.badge&&s.jsx("span",{className:`badge ${e.badge.variant}`,children:e.badge.text})]}),J=({menuItems:e})=>{const l=P(),n=r.useRef(null),[a,t]=r.useState([]),c=(o,i)=>{i&&t([o.key,...C(e,o)])},u=r.useCallback(()=>{var g;const o=document.getElementById("main-side-menu");let i=null;if(o){const b=o.getElementsByClassName("side-nav-link-ref");for(let h=0;h<b.length;++h){let p=(g=l==null?void 0:l.pathname)==null?void 0:g.replaceAll(y.PUBLIC_URL||"","");const m=b[h].pathname;if(p===y.PUBLIC_URL+"/"&&(p+="ecommerce"),p===(m==null?void 0:m.replaceAll(y.PUBLIC_URL,""))){i=b[h];break}}if(i){const h=i.getAttribute("data-menu-key"),p=v(e,h);p&&t([p.key,...C(e,p)]),setTimeout(function(){const d=i;if(d!=null){const x=document.querySelector("#leftside-menu-container .simplebar-content-wrapper"),f=d.offsetTop-300;x&&f>100&&D(x,f,600)}},200);const m=(d,x,f,k)=>(d/=k/2,d<1?f/2*d*d+x:(d--,-f/2*(d*(d-2)-1)+x)),D=(d,x,f)=>{const k=d.scrollTop,M=x-k,L=20;let j=0;const B=function(){j+=L;const _=m(j,k,M,f);d.scrollTop=_,j<f&&setTimeout(B,L)};B()}}}},[l,e]);return r.useEffect(()=>{u()},[]),s.jsx(s.Fragment,{children:s.jsx("ul",{className:"menu",ref:n,id:"main-side-menu",children:(e||[]).map((o,i)=>s.jsx(T.Fragment,{children:o.isTitle?s.jsx("li",{className:"menu-title",children:o.label}):s.jsx(s.Fragment,{children:o.children?s.jsx(O,{item:o,toggleMenu:c,subMenuClassNames:"",activeMenuItems:a,linkClassName:"menu-link"}):s.jsx($,{item:o,linkClassName:"menu-link",className:a.includes(o.key)?"menuitem-active":""})})},i))})})},X=()=>s.jsx(s.Fragment,{children:s.jsx(N,{to:"/",className:"logo-box",children:s.jsxs("div",{className:"logo-light",children:[s.jsx("p",{className:"text-xl font-bold logo-sm",children:"Z"}),s.jsx("p",{className:"text-xl font-bold logo-lg",children:"Zhindaya"})]})})}),ee=()=>s.jsx(s.Fragment,{children:s.jsx(J,{menuItems:z()})}),le=({hideLogo:e})=>{const l=A(),{sideBarType:n}=F(c=>({sideBarType:c.Layout.sideBarType})),a=r.useRef(null),t=()=>{n==="hover"?l(R(w.LEFT_SIDEBAR_TYPE_HOVERACTIVE)):n==="hover-active"&&l(R(w.LEFT_SIDEBAR_TYPE_HOVER))};return s.jsx(T.Fragment,{children:s.jsxs("div",{className:"app-menu",ref:a,children:[!e&&s.jsx(X,{}),s.jsxs("button",{id:"button-hover-toggle",className:"absolute top-5 end-2 rounded-full p-1.5 z-50",onClick:t,children:[s.jsx("span",{className:"sr-only",children:"Menu Toggle Button"}),s.jsx("i",{className:"ri-checkbox-blank-circle-line text-xl"})]}),s.jsx(U,{className:"scrollbar",children:s.jsx(ee,{})})]})})};export{le as default};
